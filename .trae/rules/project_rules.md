# Trae个人开发规则文件

## 1. 代码规范规则

### 1.1 命名规范
- **变量命名**: 使用小写字母和下划线，如 `user_name`
- **函数命名**: 使用小写字母和下划线，如 `calculate_total`
- **类命名**: 使用驼峰命名法，如 `UserProfile`
- **常量命名**: 使用大写字母和下划线，如 `MAX_RETRY_COUNT`

### 1.2 代码格式
- **缩进**: 统一使用4个空格
- **行长度**: 每行不超过120个字符
- **导入顺序**: 标准库 → 第三方库 → 本地模块
- **空行使用**: 函数/类之间保留2个空行

### 1.3 注释规范
- **函数注释**: 使用docstring格式说明功能、参数和返回值
- **复杂逻辑**: 关键算法和复杂逻辑必须添加注释
- **TODO注释**: 使用 `# TODO: 描述` 格式标记待办事项

## 2. 开发工作流规则

### 2.1 项目初始化
- 创建项目时自动生成标准的目录结构
- 确保包含必要的配置文件（requirements.txt, .gitignore等）
- 设置合适的项目元数据

### 2.2 代码编辑
- **实时保存**: 启用自动保存功能
- **语法检查**: 启用实时语法检查
- **代码格式化**: 保存时自动格式化代码
- **导入优化**: 自动清理未使用的导入

### 2.3 调试和测试
- **断点设置**: 在关键逻辑处设置断点
- **变量监视**: 重要变量添加到监视列表
- **测试覆盖**: 确保关键功能有单元测试
- **性能分析**: 定期进行性能分析

## 3. AI助手使用规则

### 3.1 代码生成
- **明确需求**: 向AI提供清晰的需求描述
- **代码审查**: 生成的代码必须经过人工审查
- **逐步实现**: 复杂功能分步骤实现和测试
- **错误处理**: 确保生成的代码包含适当的错误处理

### 3.2 代码优化
- **性能优先**: 优先考虑代码性能和效率
- **可读性**: 代码应该易于理解和维护
- **复用性**: 鼓励代码复用和模块化设计
- **安全性**: 注意安全漏洞和潜在风险

### 3.3 问题解决
- **错误分析**: 详细分析错误信息和堆栈跟踪
- **搜索策略**: 使用合适的搜索关键词查找解决方案
- **文档查阅**: 优先查阅官方文档和权威资料
- **社区求助**: 在适当的时候寻求社区帮助

## 4. 项目管理规则

### 4.1 文件组织
- **模块化设计**: 按功能模块组织文件结构
- **资源管理**: 静态资源统一管理
- **配置文件**: 配置信息集中管理
- **文档同步**: 代码和文档保持同步更新

### 4.2 版本控制
- **提交频率**: 功能完成后及时提交
- **提交信息**: 使用清晰的提交信息格式
- **分支管理**: 合理使用分支进行功能开发
- **代码审查**: 重要变更需要代码审查

### 4.3 依赖管理
- **依赖声明**: 明确声明所有依赖项
- **版本控制**: 固定依赖版本以确保稳定性
- **安全更新**: 定期更新依赖以修复安全漏洞
- **依赖分析**: 定期分析依赖关系和大小

## 5. 质量保证规则

### 5.1 代码质量
- **静态分析**: 使用静态分析工具检查代码质量
- **代码审查**: 定期进行代码审查
- **重构优化**: 及时重构优化代码结构
- **技术债务**: 关注和管理技术债务

### 5.2 测试策略
- **单元测试**: 为关键功能编写单元测试
- **集成测试**: 确保模块间集成正常
- **性能测试**: 定期进行性能测试
- **回归测试**: 确保修改不会破坏现有功能

### 5.3 文档质量
- **API文档**: 为公共API提供完整文档
- **使用示例**: 提供清晰的使用示例
- **更新日志**: 维护详细的更新日志
- **问题排查**: 提供常见问题排查指南

## 6. 安全开发规则

### 6.1 输入验证
- **数据验证**: 对所有输入数据进行验证
- **SQL注入**: 使用参数化查询防止SQL注入
- **XSS防护**: 对用户输入进行适当的转义
- **文件上传**: 严格限制上传文件的类型和大小

### 6.2 权限控制
- **最小权限**: 遵循最小权限原则
- **身份验证**: 实现安全的身份验证机制
- **会话管理**: 安全的会话管理和超时设置
- **访问控制**: 细粒度的访问控制

### 6.3 数据保护
- **数据加密**: 敏感数据必须加密存储
- **传输安全**: 使用HTTPS等安全传输协议
- **日志安全**: 避免在日志中记录敏感信息
- **备份安全**: 确保备份数据的安全性

## 7. 性能优化规则

### 7.1 代码性能
- **算法优化**: 选择合适的数据结构和算法
- **内存管理**: 注意内存使用和泄漏问题
- **并发处理**: 合理使用多线程和异步处理
- **缓存策略**: 实施合适的缓存策略

### 7.2 数据库优化
- **索引优化**: 为常用查询字段创建索引
- **查询优化**: 优化SQL查询语句
- **连接池**: 使用数据库连接池
- **分库分表**: 大数据量时考虑分库分表

### 7.3 网络优化
- **请求合并**: 减少不必要的网络请求
- **压缩传输**: 使用gzip等压缩技术
- **CDN使用**: 合理使用CDN加速静态资源
- **连接复用**: 复用网络连接减少开销

## 8. 部署运维规则

### 8.1 环境配置
- **环境分离**: 开发、测试、生产环境分离
- **配置管理**: 使用环境变量管理配置
- **依赖隔离**: 使用虚拟环境隔离依赖
- **监控告警**: 设置适当的监控和告警

### 8.2 部署流程
- **自动化部署**: 实现自动化部署流程
- **回滚机制**: 确保有可靠的快速回滚机制
- **健康检查**: 部署后自动进行健康检查
- **灰度发布**: 重要变更使用灰度发布

### 8.3 运维管理
- **日志管理**: 集中管理和分析日志
- **性能监控**: 实时监控系统性能
- **容量规划**: 定期进行容量规划
- **灾难恢复**: 制定灾难恢复计划

## 9. 团队协作规则

### 9.1 沟通规范
- **问题描述**: 清晰描述问题和复现步骤
- **代码审查**: 提供建设性的代码审查意见
- **知识分享**: 定期进行技术分享
- **文档协作**: 使用协作工具进行文档编写

### 9.2 工具使用
- **IDE配置**: 统一团队IDE配置
- **代码模板**: 使用统一的代码模板
- **自动化工具**: 充分利用自动化工具
- **项目管理**: 使用项目管理工具跟踪进度

### 9.3 质量文化
- **代码标准**: 共同维护代码质量标准
- **持续改进**: 鼓励持续改进和创新
- **技术学习**: 定期组织技术学习活动
- **经验总结**: 及时总结项目经验教训

## 10. 个人成长规则

### 10.1 学习规划
- **技术栈**: 持续学习和更新技术栈
- **最佳实践**: 关注和学习行业最佳实践
- **开源贡献**: 积极参与开源项目贡献
- **技术分享**: 定期进行技术分享和交流

### 10.2 职业发展
- **目标设定**: 设定明确的职业发展目标
- **技能提升**: 持续提升专业技能
- **项目经验**: 积累多样化的项目经验
- **行业洞察**: 保持对行业趋势的敏感度

### 10.3 工作习惯
- **时间管理**: 有效的时间管理和任务规划
- **健康工作**: 保持健康的工作和生活平衡
- **持续反思**: 定期反思和总结工作表现
- **主动学习**: 培养主动学习和探索的习惯

---

## 规则更新和维护

### 更新频率
- **定期审查**: 每季度审查和更新规则
- **及时调整**: 根据项目需求及时调整规则
- **版本控制**: 对规则文件进行版本控制

### 执行监督
- **自我监督**: 自觉遵守和执行规则
- **团队监督**: 团队成员相互监督
- **工具辅助**: 使用工具辅助规则执行

### 反馈机制
- **问题反馈**: 建立规则问题反馈机制
- **改进建议**: 鼓励提出改进建议
- **效果评估**: 定期评估规则执行效果

---

*最后更新: 2024年*
*版本: 1.0*